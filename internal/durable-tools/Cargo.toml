[package]
name = "durable-tools"
edition.workspace = true
version.workspace = true
license.workspace = true

[lints]
workspace = true

[features]
test-support = ["dep:mockall"]
ts-bindings = ["dep:ts-rs", "dep:tensorzero-ts-types", "tensorzero-core/ts-bindings", "evaluations/ts-bindings"]

[dependencies]
mockall = { version = "0.14", optional = true }
durable-tools-spawn.workspace = true
durable.workspace = true
tokio.workspace = true
async-trait = "0.1"
serde.workspace = true
serde_json.workspace = true
serde_path_to_error.workspace = true
tensorzero-derive = { path = "../tensorzero-derive" }
schemars.workspace = true
sqlx.workspace = true
tracing.workspace = true
thiserror = "2"
anyhow = "1"
uuid.workspace = true
autopilot-client = { path = "../autopilot-client" }
chrono.workspace = true
tensorzero.workspace = true
url = "2"
secrecy.workspace = true

tensorzero-core.workspace = true
tensorzero-ts-types = { path = "../tensorzero-ts-types", optional = true }
ts-rs = { workspace = true, optional = true }
evaluations = { path = "../../evaluations" }
tensorzero-optimizers = { path = "../../tensorzero-optimizers" }
indexmap = "2.13.0"

[dev-dependencies]
mockall = "0.14"
durable-tools = { path = ".", features = ["test-support"] }
