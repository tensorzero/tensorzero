[package]
name = "durable-tools"
edition.workspace = true
version.workspace = true
license.workspace = true

[lints]
workspace = true

[features]
default = []
typescript = ["deno_core", "deno_ast", "deno_error", "crossbeam-channel"]

[dependencies]
durable-tools-spawn.workspace = true
durable.workspace = true
tokio.workspace = true
async-trait = "0.1"
serde.workspace = true
serde_json.workspace = true
schemars.workspace = true
sqlx.workspace = true
thiserror = "2"
anyhow = "1"
uuid.workspace = true
autopilot-client = { path = "../autopilot-client" }
chrono.workspace = true
tensorzero.workspace = true
url = "2"
secrecy.workspace = true

tensorzero-core.workspace = true
evaluations = { path = "../../evaluations" }
tensorzero-optimizers = { path = "../../tensorzero-optimizers" }

# TypeScript tool support (optional)
deno_core = { version = "0.376", optional = true }
deno_ast = { version = "0.52", features = ["transpiling"], optional = true }
deno_error = { version = "0.7", optional = true }
crossbeam-channel = { version = "0.5", optional = true }

[dev-dependencies]
mockall = "0.14"
