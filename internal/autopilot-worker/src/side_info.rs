//! Side information for autopilot tools.

use durable_tools::SideInfo;
use serde::{Deserialize, Serialize};
use uuid::Uuid;

/// Side information required for autopilot client tools.
///
/// This should contain all IDs that might be needed as input to a tool
/// that do not need to be generated by LLMs (like the session id or a config hash).
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct AutopilotSideInfo {
    /// The event ID of the ToolCall event (for correlating ToolResult).
    pub tool_call_event_id: Uuid,

    /// The session ID for this autopilot session.
    pub session_id: Uuid,

    /// An optional hash of the current configuration.
    /// Set if you would like to start from a particular config for a tool call.
    pub config_snapshot_hash: Option<String>,
}

impl<S: SideInfo> SideInfo for AutopilotSideInfo<S> {}
