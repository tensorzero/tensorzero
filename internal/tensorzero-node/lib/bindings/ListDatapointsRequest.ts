// This file was generated by [ts-rs](https://github.com/Aleph-Alpha/ts-rs). Do not edit this file manually.
import type { DatapointFilter } from "./DatapointFilter";
import type { DatapointOrderBy } from "./DatapointOrderBy";

/**
 * Request to list datapoints from a dataset with pagination and filters.
 * Used by the `POST /v1/datasets/{dataset_id}/list_datapoints` endpoint.
 */
export type ListDatapointsRequest = {
  /**
   * Optional function name to filter datapoints by.
   * If provided, only datapoints from this function will be returned.
   */
  function_name?: string;
  /**
   * The maximum number of datapoints to return.
   * Defaults to 20.
   */
  limit?: number;
  /**
   * The maximum number of datapoints to return. Defaults to 20.
   * Deprecated: please use `limit`. If `limit` is provided, `page_size` is ignored.
   */
  page_size?: number;
  /**
   * The number of datapoints to skip before starting to return results.
   * Defaults to 0.
   */
  offset?: number;
  /**
   * Optional filter to apply when querying datapoints.
   * Supports filtering by tags, time, and logical combinations (AND/OR/NOT).
   */
  filter?: DatapointFilter;
  /**
   * Optional ordering criteria for the results.
   * Supports multiple sort criteria (e.g., sort by timestamp then by search relevance).
   */
  order_by?: Array<DatapointOrderBy>;
  /**
   * Text query to filter. Case-insensitive substring search over the datapoints' input and output.
   *
   * THIS FEATURE IS EXPERIMENTAL, and we may change or remove it at any time.
   * We recommend against depending on this feature for critical use cases.
   *
   * Important limitations:
   * - This requires an exact substring match; we do not tokenize this query string.
   * - This doesn't search for any content in the template itself.
   * - Quality is based on term frequency > 0, without any relevance scoring.
   * - There are no performance guarantees (it's best effort only). Today, with no other
   *   filters, it will perform a full table scan, which may be extremely slow depending
   *   on the data volume.
   */
  search_query_experimental?: string;
};
