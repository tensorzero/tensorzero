steps:
  - label: "Build Gateway Container"
    command: bash ./ci/buildkite/build-gateway-container.sh
    key: "build-gateway-container"

  - label: "Build Node Unit Tests Container"
    command: bash ./ci/buildkite/build-node-unit-tests-container.sh
    key: "build-node-unit-tests-container"

  - label: ":node: Node.js Tests"
    plugins:
      - docker-compose#v5.2.0:
          run: node-unit-tests
          config: ui/fixtures/docker-compose.unit.yml
    depends_on:
      - "build-gateway-container"
      - "build-node-unit-tests-container"
